{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'productos/css/lista_productos.css' %}">
{% endblock %}

{% block content %}

<!-- ===========================
     üå∏ ENCABEZADO DE CATEGOR√çA
=========================== -->
<section class="category-header">
    <div>
        <h1>{{ categoria.nombre }}</h1>
        <p>Productos seleccionados para ti, con estilo Glowin ‚ú®</p>
    </div>
</section>

<!-- ===========================
     üå∏ PRODUCTOS
=========================== -->
<section class="products-grid">

    {% for producto in productos %}
    <article class="product-card">

        <div class="product-badge">
            {{ categoria.nombre }}
        </div>

        <a href="{% url 'detalle_producto' producto.id %}">
            {% if producto.imagen %}
            <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}">
            {% else %}
            <img src="{% static 'img/placeholder.jpg' %}" alt="{{ producto.nombre }}">
            {% endif %}
        </a>

        <div class="product-info">
            <div class="product-name">{{ producto.nombre }}</div>
            <div class="product-price">$ {{ producto.precio|floatformat:0 }}</div>

            <a href="{% url 'agregar_al_carrito' producto.id %}" class="btn-glowin">
                A√±adir al carrito
            </a>
        </div>

    </article>
    {% empty %}
    <p class="empty-msg">
        No hay productos en esta categor√≠a todav√≠a.
    </p>
    {% endfor %}

</section>

{% endblock %}